<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>GestãoFácil | Sistema de Gestão de Ativos e Serviços</title>

  <!-- Bootstrap e Ícones -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" />

  <!-- CSS Local -->
  <link rel="stylesheet" href="/public/css/style.css" />

  <!-- Configuração da API -->
  <meta name="api-base-url" content="https://gestaofacil.onrender.com" />
</head>
<body>
  <!-- Página de Login -->
  <section id="login-page" class="auth-page">
    <div class="auth-card">
      <div class="auth-header">
        <div class="auth-logo">
          <i class="bi bi-lightning-charge-fill"></i>
        </div>
        <h1 class="auth-title">GestãoFácil</h1>
        <p class="auth-subtitle">Acompanhe serviços, ativos e equipes em um só lugar.</p>
      </div>

      <form id="login-form" class="auth-form">
        <div id="login-status" class="api-status"></div>
        <div class="form-floating">
          <input type="email" class="form-control" id="email" placeholder="nome@empresa.com" required />
          <label for="email">E-mail corporativo</label>
        </div>
        <div class="form-floating">
          <input type="password" class="form-control" id="password" placeholder="Sua senha" required />
          <label for="password">Senha</label>
        </div>
        <div class="d-flex justify-content-between align-items-center">
          <div class="form-check">
            <input class="form-check-input" type="checkbox" id="remember" />
            <label class="form-check-label" for="remember">Lembrar-me</label>
          </div>
          <a href="#" class="auth-link disabled">Esqueci minha senha</a>
        </div>
        <button type="submit" class="btn btn-primary w-100" id="login-btn">
          <span id="login-text">Entrar</span>
          <span id="login-loading" class="loading-spinner" style="display: none;"></span>
        </button>
      </form>

      <div class="auth-footer">
        Ainda não tem acesso?
        <a href="#" id="register-link" class="auth-link">Solicitar cadastro</a>
      </div>
    </div>
  </section>

  <!-- Página de Registro -->
  <section id="register-page" class="auth-page" style="display: none;">
    <div class="auth-card">
      <div class="auth-header">
        <div class="auth-logo"><i class="bi bi-person-plus-fill"></i></div>
        <h1 class="auth-title">Criar acesso</h1>
        <p class="auth-subtitle">Preencha seus dados para começar a colaborar.</p>
      </div>

      <form id="register-form" class="auth-form">
        <div id="register-status" class="api-status"></div>
        <div class="row g-3">
          <div class="col-md-6">
            <div class="form-floating">
              <input type="text" class="form-control" id="register-name" placeholder="Nome completo" required />
              <label for="register-name">Nome completo *</label>
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-floating">
              <select class="form-select" id="register-cargo" required>
                <option value="">Selecione</option>
                <option value="admin">Administrador</option>
                <option value="tecnico">Técnico</option>
                <option value="usuario">Usuário</option>
              </select>
              <label for="register-cargo">Cargo *</label>
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-floating">
              <input type="email" class="form-control" id="register-email" placeholder="nome@empresa.com" required />
              <label for="register-email">E-mail corporativo *</label>
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-floating">
              <input type="tel" class="form-control" id="register-phone" placeholder="(11) 99999-0000" />
              <label for="register-phone">Telefone</label>
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-floating">
              <input type="password" class="form-control" id="register-password" placeholder="Crie uma senha" required />
              <label for="register-password">Senha *</label>
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-floating">
              <input type="password" class="form-control" id="register-confirm-password" placeholder="Confirme sua senha" required />
              <label for="register-confirm-password">Confirmar senha *</label>
            </div>
          </div>
        </div>
        <button type="submit" class="btn btn-primary w-100" id="register-btn">
          <span id="register-text">Criar conta</span>
          <span id="register-loading" class="loading-spinner" style="display: none;"></span>
        </button>
      </form>

      <div class="auth-footer">
        Já possui acesso?
        <a href="#" id="back-to-login" class="auth-link">Voltar para o login</a>
      </div>
    </div>
  </section>

  <!-- Layout Principal -->
  <div id="main-layout" style="display: none;">
    <aside class="sidebar" id="sidebar">
      <div class="sidebar-header">
        <div class="sidebar-logo">
          <i class="bi bi-lightning-charge-fill"></i>
          <h2>GestãoFácil</h2>
        </div>
        <button class="toggle-sidebar" id="sidebarToggle" aria-label="Alternar menu">
          <i class="bi bi-list"></i>
        </button>
      </div>

      <nav class="sidebar-menu">
        <ul class="nav flex-column">
          <li class="nav-item"><a class="nav-link active" data-section="dashboard" href="#"><i class="bi bi-speedometer2"></i> <span>Dashboard</span></a></li>
          <li class="nav-item"><a class="nav-link" data-section="clientes" href="#"><i class="bi bi-building"></i> <span>Clientes</span></a></li>
          <li class="nav-item"><a class="nav-link" data-section="ativos" href="#"><i class="bi bi-cpu"></i> <span>Ativos</span></a></li>
          <li class="nav-item"><a class="nav-link" data-section="servicos" href="#"><i class="bi bi-tools"></i> <span>Serviços</span></a></li>
          <li class="nav-item"><a class="nav-link" data-section="locais" href="#"><i class="bi bi-geo-alt"></i> <span>Locais</span></a></li>
          <li class="nav-item"><a class="nav-link" data-section="tipos-servicos" href="#"><i class="bi bi-layers"></i> <span>Tipos de Serviço</span></a></li>
          <li class="nav-item admin-only"><a class="nav-link" data-section="usuarios" href="#"><i class="bi bi-people"></i> <span>Usuários</span></a></li>
        </ul>
      </nav>

      <div class="sidebar-footer">
        <button class="btn btn-outline-danger w-100" id="logout-btn"><i class="bi bi-box-arrow-right me-2"></i>Sair</button>
      </div>
    </aside>

    <main class="main-content" id="content-wrapper">
      <!-- Conteúdo dinâmico controlado por JS -->
    </main>
  </div>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.6/dist/chart.umd.min.js"></script>

  <script src="../public/js/api.js"></script>
  <script src="../public/js/auth.js"></script>
  <script src="../public/js/dashboard.js"></script>
  <script src="../public/js/crud-clientes.js"></script>
  <script src="../public/js/crud-locais.js"></script>
  <script src="../public/js/crud-tipos-servicos.js"></script>
  <script src="../public/js/crud-ativos.js"></script>
  <script src="../public/js/crud-servicos.js"></script>
  <script src="../public/js/crud-usuarios.js"></script>
  <script src="../public/js/main.js"></script>
</body>
</html>
